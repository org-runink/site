{{ $link := .RelPermalink }}
{{ $title := .Title }}
{{ $categories := .Params.categories | default .Params.tags }}
{{ $desc := .Description }}
{{ $summary := .Summary }}
{{ $date := .Date }}
{{ $readingTime := .ReadingTime }}

<article
    class="group bg-stone-800 rounded-2xl shadow-lg border border-stone-700 overflow-hidden hover:shadow-2xl hover:shadow-[#8B9A6E]/10 hover:border-[#8B9A6E]/50 transition-all duration-300 hover:-translate-y-1">
    {{ with .Params.featured_image }}
    <a href="{{ $link }}" class="block w-full h-56 overflow-hidden relative">
        <div class="absolute inset-0 bg-[#6B7A4E]/0 group-hover:bg-[#6B7A4E]/10 transition-colors duration-300 z-10">
        </div>
        <img src="{{ . }}" alt="{{ $title }}"
            class="object-cover w-full h-full transform group-hover:scale-105 transition-transform duration-500"
            loading="lazy">
        <!-- Floating Category Badge -->
        {{ with $categories }}
        <div class="absolute top-4 left-4 z-20">
            {{ range first 1 . }}
            <span
                class="inline-block px-3 py-1 text-xs font-bold tracking-wider text-white uppercase bg-gradient-to-r from-[#8B9A6E] to-[#D4A574] rounded-full shadow-lg shadow-[#6B7A4E]/20">
                {{ . }}
            </span>
            {{ end }}
        </div>
        {{ end }}
    </a>
    {{ end }}

    <div class="p-6 md:p-8 flex flex-col h-full">
        <!-- Date -->
        <div class="flex items-center text-xs text-[#F5F1E8] mb-3 font-medium tracking-wide">
            <svg class="w-4 h-4 mr-1.5 opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
            <time datetime="{{ $date.Format " 2006-01-02" }}">
                {{ $date.Format "January 2, 2006" }}
            </time>
        </div>

        <!-- Title -->
        <h2
            class="text-xl md:text-2xl font-bold mb-3 text-white group-hover:text-[#8B9A6E] transition-colors duration-200 leading-tight">
            <a href="{{ $link }}">
                {{ $title }}
            </a>
        </h2>

        <!-- Description -->
        <p class="text-slate-400 mb-6 line-clamp-2 leading-relaxed text-sm md:text-base">
            {{ with $desc }}
            {{ . }}
            {{ else }}
            {{ $summary | truncate 160 }}
            {{ end }}
        </p>

        <!-- Footer -->
        <div class="mt-auto pt-6 border-t border-stone-700/50 flex items-center justify-between">
            <a href="{{ $link }}"
                class="inline-flex items-center text-sm font-bold text-white group-hover:text-[#8B9A6E] transition-colors">
                Read Article
                <svg class="w-4 h-4 ml-2 transform group-hover:translate-x-1 transition-transform" fill="none"
                    stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3">
                    </path>
                </svg>
            </a>

            <span class="text-xs text-slate-500 font-medium">
                {{ $readingTime }} min read
            </span>
        </div>
    </div>
</article>