{{ define "main" }}
<div class="bg-stone-950 min-h-screen relative overflow-hidden text-stone-300">
    <div
        class="absolute inset-0 bg-[radial-gradient(circle_at_top,_var(--tw-gradient-stops))] from-stone-900 via-stone-950 to-stone-950 z-0">
    </div>
    <div class="absolute inset-0 opacity-20 pointer-events-none z-0"
        style="background-image: linear-gradient(#ea580c 1px, transparent 1px), linear-gradient(90deg, #ea580c 1px, transparent 1px); background-size: 60px 60px;">
    </div>

    <div class="container mx-auto px-4 py-24 relative z-10">
        <!-- Two Column Layout for Content and Sidebar -->
        <div class="flex flex-col lg:flex-row gap-8 mb-12">
            <!-- Main Content -->
            <article
                class="flex-1 w-full bg-[#161515] border border-stone-800/80 rounded-[2.5rem] p-8 md:p-12 shadow-2xl relative z-10 overflow-hidden">
                <header class="mb-8">
                    {{ with .Params.categories }}
                    <div class="mb-4">
                        {{ range . }}
                        <a href="{{ " /categories/" | relLangURL }}{{ . | urlize }}"
                            class="inline-block px-3 py-1 text-sm font-medium text-primary-600 bg-primary-50 rounded-full hover:bg-primary-100 mr-2">
                            {{ . }}
                        </a>
                        {{ end }}
                    </div>
                    {{ end }}

                    <div
                        class="inline-flex items-center justify-center px-4 py-1 mb-6 rounded-lg border border-[#ea580c]/30 text-[#ea580c] text-xs font-black uppercase tracking-[0.25em] bg-stone-900/50 backdrop-blur shadow-[0_0_15px_rgba(234,88,12,0.1)]">
                        Transmission
                    </div>
                    <h1
                        class="text-4xl md:text-5xl lg:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-[#ea580c] to-[#ca4708] mb-4 tracking-tighter uppercase italic drop-shadow-lg leading-[1]">
                        {{ .Title }}
                    </h1>

                    {{ partial "post-meta.html" . }}
                </header>

                {{ with .Params.featured_image }}
                <div class="mb-8">
                    <img src="{{ . }}" alt="{{ $.Title }}" class="w-full h-auto rounded-lg" loading="lazy">
                </div>
                {{ end }}

                <div
                    class="w-full prose prose-invert prose-stone max-w-none lg:prose-lg prose-headings:text-white prose-p:text-stone-300 prose-li:text-stone-300 prose-strong:text-white prose-a:text-[#ea580c] hover:prose-a:text-[#ca4708]">
                    {{ .Content }}
                </div>
            </article>

            <!-- Sidebar -->
            <aside class="lg:w-80 xl:w-96">
                {{ partial "sidebar.html" . }}
            </aside>
        </div>

        <!-- Full-width Navigation Section -->
        <nav class="border-t border-stone-800 mt-12 pt-8">
            <div class="flex justify-between items-center">
                {{ with .PrevInSection }}
                <a href="{{ .RelPermalink }}" class="group flex items-center">
                    <svg class="w-5 h-5 mr-3 text-stone-500 group-hover:text-[#ea580c] transition-colors" fill="none"
                        stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                    <div>
                        <div class="text-xs text-stone-500 uppercase tracking-widest font-bold mb-1">Previous Post</div>
                        <div class="font-medium text-stone-300 group-hover:text-[#ea580c] transition-colors">{{ .Title
                            }}</div>
                    </div>
                </a>
                {{ else }}
                <div></div>
                {{ end }}

                {{ with .NextInSection }}
                <a href="{{ .RelPermalink }}" class="group flex items-center text-right">
                    <div>
                        <div class="text-xs text-stone-500 uppercase tracking-widest font-bold mb-1">Next Post</div>
                        <div class="font-medium text-stone-300 group-hover:text-[#ea580c] transition-colors">{{ .Title
                            }}</div>
                    </div>
                    <svg class="w-5 h-5 ml-3 text-stone-500 group-hover:text-[#ea580c] transition-colors" fill="none"
                        stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                    </svg>
                </a>
                {{ else }}
                <div></div>
                {{ end }}
            </div>
        </nav>

        <!-- Full-width CTA Section -->
        {{ if and .Site.Params.blog.cta.enable .Site.Params.cta.enable }}
        <div class="mt-16">
            {{ partial "components/cta.html" . }}
        </div>
        {{ end }}
    </div>
</div>
{{ end }}